<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Apprendre à utiliser NodeJS Auteur(s) : Erwan ROUSSEL (traductions et commentaires)
Traduit de l&rsquo;anglais depuis ce guide
Prérequis : Apprendre le Javascript, Les requêtes HTTP
Introduction Node.js est un environnement d&rsquo;exécution open-source et cross-platform (qui peut être utilisé sur n&rsquo;importe quel système d&rsquo;exploitation) JavaScript. C&rsquo;est un outil populaire pour à peu près tout les types de projets!
Node.js utilise le moteur JavaScript V8, le coeur de Google Chrome, en dehors du navigateur."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Apprendre à utiliser NodeJS"><meta property="og:description" content="Apprendre à utiliser NodeJS Auteur(s) : Erwan ROUSSEL (traductions et commentaires)
Traduit de l&rsquo;anglais depuis ce guide
Prérequis : Apprendre le Javascript, Les requêtes HTTP
Introduction Node.js est un environnement d&rsquo;exécution open-source et cross-platform (qui peut être utilisé sur n&rsquo;importe quel système d&rsquo;exploitation) JavaScript. C&rsquo;est un outil populaire pour à peu près tout les types de projets!
Node.js utilise le moteur JavaScript V8, le coeur de Google Chrome, en dehors du navigateur."><meta property="og:type" content="article"><meta property="og:url" content="https://wiki.openincubator.tech/docs/javascript/learn_nodejs/"><title>Apprendre à utiliser NodeJS | Open Ressources</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA+eA0kDHPqIYF+1eU="><script defer src=/en.search.min.12e6b400db9dbfc7a15582d15fc967f81b6a5c6bc8ac13e0798c3511d68d12ff.js integrity="sha256-Eua0ANudv8ehVYLRX8ln+BtqXGvIrBPgeYw1EdaNEv8="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>Open Ressources</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><strong><a href>Git</a></strong><ul><li><a href=/docs/git/learn_git/>Apprendre à utiliser Git</a></li><li><a href=/docs/git/learn_github/>Apprendre à utiliser Github</a></li></ul></li><li><strong><a href>Javascript</a></strong><ul><li><a href=https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide>Apprendre le JavaScript</a></li><li><a href=/docs/javascript/learn_nodejs/ class=active>Apprendre à utiliser NodeJS</a></li><li><a href=/docs/javascript/practice_nodejs/>Mise en pratique de NodeJS</a></li><li><a href=/docs/javascript/learn_typescript/>Apprendre le Typescript</a></li></ul></li><li><strong><a href>Serveur</a></strong><ul><li><a href=/docs/serveur/introduction/>Introduction</a></li><li><a href=https://lecrabeinfo.net/installer-linux-debian-le-guide-complet.html>Installer Debian</a></li><li><a href=/docs/serveur/webserver_install/>Installer un serveur web</a></li><li><a href=/docs/serveur/webserver_configure_php/>Configurer un serveur web pour PHP</a></li><li><a href=/docs/serveur/webserver_configure_serverless/>Configurer un serveur web pour NodeJS</a></li><li><a href=/docs/serveur/webserver_secure>Sécuriser un serveur</a></li><li><a href=docs/serveur/learn_docker.md>Apprendre à utiliser Docker</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Apprendre à utiliser NodeJS</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#installation>Installation</a></li><li><a href=#example-dapplication-nodejs>Example d&rsquo;application Node.js</a></li><li><a href=#nodejs-vs-navigateur>Node.Js vs Navigateur</a><ul><li><a href=#lavantage-dutiliser-nodejs>L&rsquo;avantage d&rsquo;utiliser Node.js</a></li><li><a href=#les-changements-dans-lécosystème>Les changements dans l'écosystème</a></li></ul></li><li><a href=#npm>NPM</a><ul><li><a href=#rechercher-des-paquets>Rechercher des paquets</a></li><li><a href=#installer-toutes-vos-dépendances>Installer toutes vos dépendances</a></li><li><a href=#installer-un-paquet>Installer un paquet</a></li><li><a href=#mettre-à-jour-les-paquets>Mettre à jour les paquets</a></li><li><a href=#lancer-des-tâches>Lancer des tâches</a></li></ul></li><li><a href=#lire-et-écrire-des-fichiers>Lire et écrire des fichiers</a><ul><li><a href=#lire-un-fichier>Lire un fichier</a></li><li><a href=#écrire-dans-un-fichier>Écrire dans un fichier</a></li></ul></li><li><a href=#accéder-à-une-variable-denvironnement>Accéder à une variable d&rsquo;environnement</a></li></ul></nav></aside></header><article class=markdown><h1 id=apprendre-à-utiliser-nodejs>Apprendre à utiliser NodeJS</h1><p><em>Auteur(s) : Erwan ROUSSEL (traductions et commentaires)</em></p><p><em>Traduit de l&rsquo;anglais depuis <a href=https://nodejs.dev>ce guide</a></em></p><p><em>Prérequis : <a href=https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide>Apprendre le Javascript</a>, <a href=https://developer.mozilla.org/fr/docs/Web/HTTP/Aper%C3%A7u>Les requêtes HTTP</a></em></p><h2 id=introduction>Introduction</h2><p>Node.js est un environnement d&rsquo;exécution open-source et cross-platform (qui peut être utilisé sur n&rsquo;importe quel système d&rsquo;exploitation) JavaScript. C&rsquo;est un outil populaire pour à peu près tout les types de projets!</p><p>Node.js utilise le moteur JavaScript V8, le coeur de Google Chrome, en dehors du navigateur. Cela permet à Node.js d'être très performant.</p><p>Une application Node.js est lancée dans un seul processus <em>(&ldquo;process&rdquo; en anglais)</em>, sans créer de nouveau fil d'éxécution <em>(&ldquo;thread&rdquo; en anglais)</em> pour chaque requête. Node.js apporte une collection d&rsquo;I/O primitifs dans sa librairie standard qui évite au code JavaScript d'être bloquant. Les librairieNode.js sont généralement écrites de manière non-bloquante, faisant de la programmation bloquante une exception plutôt qu&rsquo;une norme.</p><p>Quand Node.js a besoin d&rsquo;effectuer un opération I/O, comme lire depuis le réseau, accéder à une base de données ou à un système de fichier, au lieu de bloquer le fil d'éxécution, Node.js reprendra les opérations lorsque la réponse lui reviendra.</p><p>Cela permet à Node.js de gérer des centaines de connections en même temps sur un seul serveur sans avoir à introduire le fardeau de gérer les fils d'éxécution simultannés, qui peut être une source importante de bugs.</p><p>Node.js a un avantage unique car des milions de développeurs frontend qui écrivent déjà du code JavaScript pour le navigateur peuvent maintenant écrire du code côté-serveur <em>(&ldquo;server-side&rdquo; en anglais)</em> en plus du code côté-client <em>(&ldquo;client-side&rdquo; en anglais)</em> sans avoir besoin d&rsquo;apprendre un language complètement différent.</p><p>En utilisant Node.js, les nouveaux standards ECMAScript peuvent être utilisés sans problème car vous n&rsquo;avez pas besoin d&rsquo;attendre que tout vos utilisateurs mette à jour leurs navigateurs. Vous décidez alors quelle version de ECMAScript vous souhaitez utiliser en changeant de version de Node.js, et vous pouvez aussi activez des fonctionnalités expérimentales en lançant Node.js avec des drapeaux <em>(&ldquo;flags&rdquo; en anglais)</em>.</p><h2 id=installation>Installation</h2><p>Rendez-vous sur <a href=https://nodejs.org/fr/download/>la page de téléchargement</a>.</p><h2 id=example-dapplication-nodejs>Example d&rsquo;application Node.js</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>http</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;http&#39;</span>)

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>hostname</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;127.0.0.1&#39;</span>
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>port</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>PORT</span>

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>server</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>createServer</span>((<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>statusCode</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>setHeader</span>(<span style=color:#e6db74>&#39;Content-Type&#39;</span>, <span style=color:#e6db74>&#39;text/plain&#39;</span>)
  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>end</span>(<span style=color:#e6db74>&#39;Hello World!\n&#39;</span>)
})

<span style=color:#a6e22e>server</span>.<span style=color:#a6e22e>listen</span>(<span style=color:#a6e22e>port</span>, <span style=color:#a6e22e>hostname</span>, () =&gt; {
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Server running at http://</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>hostname</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>port</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/`</span>)
})
</code></pre></div><p>Ce code inclut premièrement le module Node.js <code>http</code>.</p><p>Node.js a un librairie standard fantastique, qui inclue un support <em>&ldquo;first-class&rdquo;</em> pour le réseau.</p><p>La méthode <code>createServer()</code> du module <code>http</code> crée un nouveau serveur HTTP et le retourne.</p><p>Le serveur écoute alors sur le port et le nom d&rsquo;hôte spécifié. Quand le serveur est prêt, la fonction passée en paramètre <em>(&ldquo;callback&rdquo; en anglais)</em> est alors exécutée, dans ce cas elle nous informe via la console que le serveur est lancé.</p><p>Dès lors qu&rsquo;une requête est réçue, l&rsquo;<a href=https://nodejs.org/api/http.html#http_event_request>évènement <code>request</code></a> est appelé, apportant deux objets: la requête (un objet <a href=https://nodejs.org/api/http.html#http_class_http_incomingmessage><code>http.IncomingMessage</code></a>) et une réponse (un objet <a href=https://nodejs.org/api/http.html#http_class_http_serverresponse><code>http.ServerResponse</code></a>).</p><p>Ces deux objets sont essentiels pour gérer une requête HTTP.</p><p>Le premier apporte les détails de la requête. Dans cet example il n&rsquo;est pas utilisé mais vous pouvez accéder au header de la requête et aux données de celle-ci.</p><p>Le second est utilisé pour retourner des données à celui qui fait la requête.</p><p>Dans ce cas avec:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>statusCode</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</code></pre></div><p>On attribue la valeur <code>200</code> à la propriété <code>statusCode</code> pour indiquer une réponse réussie.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>setHeader</span>(<span style=color:#e6db74>&#39;Content-Type&#39;</span>, <span style=color:#e6db74>&#39;text/plain&#39;</span>)
</code></pre></div><p>On attribue la valeur <code>text/plain</code> à l&rsquo;en-tête <code>Content-Type</code> à l&rsquo;aide de la méthode <code>setHeader</code> afin de spécifier que nous renvoyons du texte.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>end</span>(<span style=color:#e6db74>&#39;Hello World\n&#39;</span>)
</code></pre></div><p>et on termine en fermant la réponse en ajoutant le contenu en argument à la fonction <code>end</code>.</p><h2 id=nodejs-vs-navigateur>Node.Js vs Navigateur</h2><h3 id=lavantage-dutiliser-nodejs>L&rsquo;avantage d&rsquo;utiliser Node.js</h3><p>Le navigateur et Node.js utilise tout les deux JavaScript comme language de programmation.</p><p>Construire des applications pour navigateurs et une chose complètement différente que de construire
une application Node.js.</p><p>En dépit du fait qu&rsquo;il s&rsquo;agit toujours de JavaScript, il y a quelques différences clées qui rendent l&rsquo;expérience radicalement différente.</p><p>Du point de vu d&rsquo;un développeur frontend qui utilise JavaScript quotidiennement. Les applications Node.js ont un grand avantage. Celui de pouvoir coder le frontend et le backend en un seul language.</p><h3 id=les-changements-dans-lécosystème>Les changements dans l'écosystème</h3><p>D&rsquo;une part, dans le navigateur, la plupart du temps vous interagissez avec le DOM, ou les autres plateformes d&rsquo;APIs Web comme les Cookies. Celles-ci n&rsquo;existent pas en Node.js bien-sûr. Vous n&rsquo;avez pas accès au objects <code>document</code> et <code>window</code> ainsi que les autres objets mis à disposition par le navigateur.</p><p>D&rsquo;autre part, dans le navigateur, vous n&rsquo;avez pas accès à toutes les formidables APIs qu&rsquo;apporte Node.js à travers ses modules, comme la fonctionnalité d&rsquo;accès au fichier du système.</p><p>Pour finir, Node.js et le navigateur se complètent parfaitement, vous pouvez écrire votre code côté serveur avec Node.js et y accéder depuis le navigateur tout en utilisant seulement du Javascript.</p><h2 id=npm>NPM</h2><p><code>npm</code> <em>(Pour &ldquo;Node Package Manager&rdquo;)</em> est le gestionnaire de paquet <em>(&ldquo;package manager&rdquo; en anglais)</em> standard pour Node.js.</p><p>En janvier 2017, plus de 350 000 paquets ont été signalés comme étant inscrits dans le registre npm, ce qui en fait le plus gros dépot de code pour un seul language dans le mode et vous pouvez être sûr qu&rsquo;il y a un paquet pour (à peu près!) tout.</p><blockquote><p><a href=https://yarnpkg.com/fr/>Yarn</a> est une alternative à NPM, allez y jeter un coup d&rsquo;oeil 😉</p></blockquote><p>Mais que faire avec NPM ?</p><h3 id=rechercher-des-paquets>Rechercher des paquets</h3><p>Rendez vous sur []le site de NPM](<a href=https://www.npmjs.com/>https://www.npmjs.com/</a>) afin de rechercher des paquets.</p><h3 id=installer-toutes-vos-dépendances>Installer toutes vos dépendances</h3><p>Si un projet à un fichier <code>package.json</code>, en utilisant la commande :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install
</code></pre></div><p><code>npm</code> va installer toutes les dépendances listées dans ce fichier, dans le dossier <code>node_modules</code> en le créant si il n&rsquo;existe pas déjà.</p><h3 id=installer-un-paquet>Installer un paquet</h3><p>Vous pouvez aussi installer un paquet spécifique en utilisant la commande :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install &lt;nom-du-paquet&gt;
</code></pre></div><p><em>En remplaçant par le nom du paquet voulu.</em></p><p>Vous allez souvent voir plus de drapeaux ajoutés à cette commande :</p><ul><li><code>--save</code> installe et ajoute le nom du paquet et sa version dans les dépendances du fichier <code>package.json</code>.</li><li><code>--save-dev</code> installe et ajoute le nom du paquet et sa version dans les dépendances de développement du fichier <code>package.json</code>.</li></ul><p>La différence est principalement que les dépendances de développement (<code>devDependencies</code>) sont souvent des outils de développements comme une librairie pour faire des tests, alors que les dépendances (<code>dependencies</code>) sont souvent liées à l&rsquo;application en production.</p><h3 id=mettre-à-jour-les-paquets>Mettre à jour les paquets</h3><p>Mettre à jour les paquets est tout aussi facile, en utilisant la commande :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm update
</code></pre></div><p><code>npm</code> va checker tous les paquets et vérifier si il n&rsquo;ya pas de nouvelle version qui satisfie vos contraintes de versions.</p><p>Vous pouvez aussi spécifier un paquet à mettre à jour:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm update &lt;nom-du-paquet&gt;
</code></pre></div><p><em>En remplaçant nom-du-paquet par le nom du paquet voulu.</em></p><h3 id=lancer-des-tâches>Lancer des tâches</h3><p>Le fichier <code>package.json</code> supporte un format pour spécifier des tâches en ligne de commande qui peuvent être lancées en utilisant la commande :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm run &lt;nom-de-la-tâche&gt;
</code></pre></div><p><em>En remplaçant nom-de-la-tâche par le nom de la tâche spécifiée dans le fichier <code>package.json</code>.</em></p><p>Par example :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
	<span style=color:#f92672>&#34;scripts&#34;</span>: {
		<span style=color:#f92672>&#34;start&#34;</span>: <span style=color:#e6db74>&#34;node app.js&#34;</span>
	}
}
</code></pre></div><h2 id=lire-et-écrire-des-fichiers>Lire et écrire des fichiers</h2><h3 id=lire-un-fichier>Lire un fichier</h3><p>La manière la plus simple de lire un fichier avec Node.js est d&rsquo;utiliser la méthode <a href=https://nodejs.org/api/fs.html#fs_fs_readfile_path_options_callback><code>fs.readFile()</code></a>, en lui passant en paramètre le chemin du fichier et la fonction qui sera appelée avec les données du fichier (et l&rsquo;erreur si il y en a une) :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// Inclus le module &#39;fs&#39; afin de pouvoir l&#39;utiliser en utilisant l&#39;objet fs
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;fs&#39;</span>)

<span style=color:#75715e>// Lis le fichier de manière asynchrone et exécute la fonction à appeler avec les données et une erreur si il y en à une
</span><span style=color:#75715e></span><span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readFile</span>(<span style=color:#e6db74>&#39;/Users/joe/test.txt&#39;</span>, (<span style=color:#a6e22e>err</span>, <span style=color:#a6e22e>data</span>) =&gt; {
	<span style=color:#75715e>// Traitement de l&#39;erreur si il y en à une
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>)
    <span style=color:#66d9ef>return</span>
  }

	<span style=color:#75715e>// Affiche le contenu du fichier dans la console
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>data</span>)
})
</code></pre></div><h3 id=écrire-dans-un-fichier>Écrire dans un fichier</h3><p>La manière la plus sumple d'écrire des fichiers avec Node.js est d&rsquo;utiliser l&rsquo;API <a href=https://nodejs.org/api/fs.html#fs_fs_writefile_file_data_options_callback><code>fs.writeFile()</code></a> en lui passant en paramètre le chemin du fichier et le contenu à insérer dedans :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// Inclus le module &#39;fs&#39; afin de pouvoir l&#39;utiliser en utilisant l&#39;objet fs
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;fs&#39;</span>)

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>content</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Un peu de contenu !&#39;</span>

<span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>writeFile</span>(<span style=color:#e6db74>&#39;/Users/joe/test.txt&#39;</span>, <span style=color:#a6e22e>content</span>, <span style=color:#a6e22e>err</span> =&gt; {
	<span style=color:#75715e>// Traitement de l&#39;erreur si il y en à une
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>)
    <span style=color:#66d9ef>return</span>
  }

  <span style=color:#75715e>// Le contenu à été inséré sans erreur dans le fichier
</span><span style=color:#75715e></span>})
</code></pre></div><p>Si vous souhaitez insérer le contenu à la fin du fichier, vous pouvez utiliser la méthode <a href=https://nodejs.org/api/fs.html#fs_fs_appendfile_path_data_options_callback><code>fs.appendFile()</code></a> en lui passanten paramètre le chemin du fichier et le contenu à insérer dedans :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>content</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Un peu de contenu !&#39;</span>

<span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>appendFile</span>(<span style=color:#e6db74>&#39;file.log&#39;</span>, <span style=color:#a6e22e>content</span>, <span style=color:#a6e22e>err</span> =&gt; {
	<span style=color:#75715e>// Traitement de l&#39;erreur si il y en à une
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
		<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>)
		<span style=color:#66d9ef>return</span>
	}

 <span style=color:#75715e>// Le contenu à été inséré sans erreur dans le fichier
</span><span style=color:#75715e></span>})
</code></pre></div><h2 id=accéder-à-une-variable-denvironnement>Accéder à une variable d&rsquo;environnement</h2><p>Le module <code>process</code> de Node.js apporte un propriété <code>env</code> qui héberge toutes les variables d&rsquo;environnement qui étaient assignées au moment ou le processus a été lançé <em>(lorsque vous avez exécuté la comande <code>node &lt;fichier></code>)</em>.</p><p>Voilà un example qui accède à la variable d&rsquo;environnement NODE_ENV, qui est assignée à <code>development</code> par défaut</p><blockquote><p><code>process</code> n&rsquo;a pas besoin d&rsquo;un require, il est automatiquement disponible.</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>proccess</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#75715e>// &#34;development&#34;
</span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/open-incubator/wiki/edit/master/content//docs/Javascript/learn_nodejs.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#installation>Installation</a></li><li><a href=#example-dapplication-nodejs>Example d&rsquo;application Node.js</a></li><li><a href=#nodejs-vs-navigateur>Node.Js vs Navigateur</a><ul><li><a href=#lavantage-dutiliser-nodejs>L&rsquo;avantage d&rsquo;utiliser Node.js</a></li><li><a href=#les-changements-dans-lécosystème>Les changements dans l'écosystème</a></li></ul></li><li><a href=#npm>NPM</a><ul><li><a href=#rechercher-des-paquets>Rechercher des paquets</a></li><li><a href=#installer-toutes-vos-dépendances>Installer toutes vos dépendances</a></li><li><a href=#installer-un-paquet>Installer un paquet</a></li><li><a href=#mettre-à-jour-les-paquets>Mettre à jour les paquets</a></li><li><a href=#lancer-des-tâches>Lancer des tâches</a></li></ul></li><li><a href=#lire-et-écrire-des-fichiers>Lire et écrire des fichiers</a><ul><li><a href=#lire-un-fichier>Lire un fichier</a></li><li><a href=#écrire-dans-un-fichier>Écrire dans un fichier</a></li></ul></li><li><a href=#accéder-à-une-variable-denvironnement>Accéder à une variable d&rsquo;environnement</a></li></ul></nav></aside></main></body></html>